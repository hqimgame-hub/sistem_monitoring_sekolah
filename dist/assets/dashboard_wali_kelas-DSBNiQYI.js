import"./style-Kwe7jDFC.js";import{a as nt,d as F}from"./firebase_init-IrZITGwD.js";import{r as ft}from"./Navbar-z9BVbuuM.js";import{r as mt}from"./Sidebar-lRZ-zoN3.js";import{signOut as gt,onAuthStateChanged as pt}from"https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";import{query as M,collection as H,getDocs as ht,where as K,onSnapshot as q}from"https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";import"https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";import"https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";document.getElementById("namaWali");const ut=document.getElementById("statusBanner"),w=document.getElementById("filterKelas"),p=document.getElementById("filterSiswa"),B=document.getElementById("filterTanggalMulai"),A=document.getElementById("filterTanggalAkhir"),W=document.getElementById("inputCari"),yt=document.getElementById("btnRefresh"),wt=document.getElementById("btnExportExcel"),xt=document.getElementById("btnExportPDF"),kt=document.getElementById("btnPrint"),Dt=document.getElementById("summaryAbsensi"),Et=document.getElementById("summaryPelanggaran");document.getElementById("modalDetail");const vt=document.getElementById("modalTitle"),Ct=document.getElementById("detailContent");document.getElementById("chartDetail");const St=document.getElementById("chartAbsensi"),Lt=document.getElementById("chartPelanggaran"),Tt=document.getElementById("printArea"),P=document.getElementById("btnLogout"),N={absensi:document.getElementById("viewAbsensi"),pelanggaran:document.getElementById("viewPelanggaran"),catatan:document.getElementById("viewCatatan")};let ot="absensi",X=null,G=null,J=null,U=null,z=[],L=[],T=[],O=[],j=[];window.showDetail=dt;let v=1,C=1;const S=10,bt=(...t)=>console.log("[WALI]",...t);function st(t){if(!t)return null;try{const e=t?.toDate?t.toDate():new Date(t);return isNaN(e.getTime())?null:e.toISOString().split("T")[0]}catch{return null}}function Z(t){ot=t,Object.values(N).forEach(e=>e&&e.classList.add("hidden")),N[t]&&N[t].classList.remove("hidden"),t==="catatan"?p&&p.parentElement&&p.parentElement.classList.add("hidden"):p&&p.parentElement&&p.parentElement.classList.remove("hidden"),t==="absensi"?(x(),_(),h()):t==="pelanggaran"?(k(),R(),y()):t==="catatan"&&it()}P&&(P.addEventListener("click",async()=>{await gt(nt),localStorage.removeItem("userData"),window.location.href="index.html"}),P.addEventListener("touchstart",t=>{t.preventDefault(),P.click()},{passive:!1}));function V(t,e="info"){ut.textContent=t;const n={info:"p-4 mb-4 text-blue-700 bg-blue-100 rounded-lg dark:bg-blue-200 dark:text-blue-800",success:"p-4 mb-4 text-green-700 bg-green-100 rounded-lg dark:bg-green-200 dark:text-green-800",warning:"p-4 mb-4 text-yellow-700 bg-yellow-100 rounded-lg dark:bg-yellow-200 dark:text-yellow-800",danger:"p-4 mb-4 text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800"};ut.className=n[e]||n.info}function Bt(){const t=Array.from(new Set(j.filter(Boolean))).sort();w.innerHTML=`<option value="">Semua Kelas</option>${t.map(e=>`<option value="${e}">${e}</option>`).join("")}`}function rt(t=""){const e=t?z.filter(a=>a.kelas===t):z,n=Array.from(new Set(e.map(a=>a.nama))).sort();p.innerHTML=`<option value="">Semua Siswa</option>${n.map(a=>`<option value="${a}">${a}</option>`).join("")}`}function h(){const t=w.value,e=p.value,n=B.value,a=A.value,s=(W.value||"").toLowerCase(),r=document.getElementById("bodyAbsensi"),u=document.getElementById("pagAbsensi");let g=L.filter(c=>{if(t&&c.kelas!==t||e&&c.nama!==e)return!1;if(n||a){const i=c.waktu?.toDate?c.waktu.toDate():c.waktu?new Date(c.waktu):null;if(!i)return!1;const f=i.toISOString().split("T")[0];if(n&&f<n||a&&f>a)return!1}return!(s&&!(c.nama+" "+(c.status||"")+" "+(c.keterangan||"")).toLowerCase().includes(s))});if(g.length===0){r.innerHTML='<tr><td colspan="6" class="text-center text-muted py-4">Tidak ada data sesuai filter</td></tr>',u&&(u.innerHTML="");return}const o=Math.max(1,Math.ceil(g.length/S));v>o&&(v=o),v<1&&(v=1);const d=(v-1)*S,b=g.slice(d,d+S);r.innerHTML="",b.forEach((c,i)=>{const f=c.waktu?.toDate?c.waktu.toDate():c.waktu?new Date(c.waktu):null,l=f?f.toLocaleString("id-ID"):"-";r.innerHTML+=`
      <tr class="bg-white border-b hover:bg-gray-50 cursor-pointer" onclick="showDetail('${c.nama}')">
        <td class="px-6 py-4">${d+i+1}</td>
        <td class="px-6 py-4 font-medium text-gray-900">${c.nama}</td>
        <td class="px-6 py-4">${c.kelas||"-"}</td>
        <td class="px-6 py-4">
            <span class="${c.status==="Hadir"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"} text-xs font-medium mr-2 px-2.5 py-0.5 rounded">
            ${c.status||"-"}
            </span>
        </td>
        <td class="px-6 py-4">${c.keterangan||"-"}</td>
        <td class="px-6 py-4">${l}</td>
      </tr>
    `}),u&&(u.innerHTML=`
      <button class="btn btn-sm btn-outline-primary me-2" ${v===1?"disabled":""} onclick="absensiPage--; renderTableAbsensi()">⬅️ Prev</button>
      <span class="mx-2">Halaman ${v} / ${o}</span>
      <button class="btn btn-sm btn-outline-primary ms-2" ${v===o?"disabled":""} onclick="absensiPage++; renderTableAbsensi()">Next ➡️</button>
    `)}function y(){const t=w.value,e=p.value,n=B.value,a=A.value,s=(W.value||"").toLowerCase(),r=document.getElementById("bodyPelanggaran"),u=document.getElementById("pagPelanggaran");let g=T.filter(i=>{if(t&&i.kelas!==t)return!1;const f=i.namaSiswa||i.nama||"Unidentified";if(e&&f!==e)return!1;if(n||a){const l=i.tanggal?.toDate?i.tanggal.toDate():i.tanggal?new Date(i.tanggal):null;if(!l)return!1;const m=l.toISOString().split("T")[0];if(n&&m<n||a&&m>a)return!1}return!(s&&!(f+" "+(i.jenis||"")+" "+(i.keterangan||"")).toLowerCase().includes(s))});if(g.length===0){r.innerHTML='<tr><td colspan="7" class="text-center text-muted py-4">Tidak ada pelanggaran sesuai filter</td></tr>',u&&(u.innerHTML="");return}const o={};g.forEach(i=>{const f=i.namaSiswa||i.nama||"Unidentified";o[f]=(o[f]||0)+(Number(i.poin)||0)});const d=Math.max(1,Math.ceil(g.length/S));C>d&&(C=d),C<1&&(C=1);const b=(C-1)*S,c=g.slice(b,b+S);r.innerHTML="",c.forEach((i,f)=>{const l=i.tanggal?.toDate?i.tanggal.toDate():i.tanggal?new Date(i.tanggal):null,m=l?l.toLocaleString("id-ID"):"-",D=i.namaSiswa||i.nama||"Unidentified",E=o[D]||0;let I="bg-white border-b hover:bg-gray-50",$="text-gray-500";E>=50?(I="bg-red-50 border-b hover:bg-red-100",$="text-red-700"):E>=30?(I="bg-yellow-50 border-b hover:bg-yellow-100",$="text-yellow-700"):E>=15&&(I="bg-blue-50 border-b hover:bg-blue-100",$="text-blue-700"),r.innerHTML+=`
      <tr class="${I} cursor-pointer" onclick="showDetail('${D}')">
        <td class="px-6 py-4">${b+f+1}</td>
        <td class="px-6 py-4 font-medium text-gray-900">${D}</td>
        <td class="px-6 py-4">${i.kelas||"-"}</td>
        <td class="px-6 py-4">${i.jenis||i.jenis_pelanggaran||"-"}</td>
        <td class="px-6 py-4 font-bold ${$}">${Number(i.poin)||0}</td>
        <td class="px-6 py-4">${i.keterangan||"-"}</td>
        <td class="px-6 py-4">${m}</td>
      </tr>
    `}),u&&(u.innerHTML=`
      <button class="btn btn-sm btn-outline-primary me-2" ${C===1?"disabled":""} onclick="pelanggaranPage--; renderTablePelanggaran()">⬅️ Prev</button>
      <span class="mx-2">Halaman ${C} / ${d}</span>
      <button class="btn btn-sm btn-outline-primary ms-2" ${C===d?"disabled":""} onclick="pelanggaranPage++; renderTablePelanggaran()">Next ➡️</button>
    `)}function it(){const t=document.getElementById("bodyCatatan");if(!t)return;const e=w.value,n=(W.value||"").toLowerCase();let a=O.filter(s=>!(e&&s.kelas!==e||n&&!(s.guru+" "+(s.catatan||"")).toLowerCase().includes(n)));if(a.length===0){t.innerHTML='<tr><td colspan="5" class="text-center text-muted py-4">Tidak ada catatan sesuai filter</td></tr>';return}a.sort((s,r)=>(r.createdAt||"").localeCompare(s.createdAt||"")),t.innerHTML="",a.forEach((s,r)=>{const u=s.createdAt?new Date(s.createdAt).toLocaleDateString("id-ID"):"-";t.innerHTML+=`
      <tr class="bg-white border-b hover:bg-gray-50">
        <td class="px-6 py-4">${r+1}</td>
        <td class="px-6 py-4 font-mono text-sm">${u}</td>
        <td class="px-6 py-4 font-semibold">${s.guru||"Guru"}</td>
        <td class="px-6 py-4">${s.catatan||"-"}</td>
        <td class="px-6 py-4 text-center">
            ${s.penting?'<i class="bi bi-star-fill text-yellow-500"></i>':"-"}
        </td>
      </tr>
    `})}function x(){const t=w.value,e=p.value,n=B.value,a=A.value;let s=L.filter(o=>{if(t&&o.kelas!==t||e&&o.nama!==e)return!1;if(n||a){const d=o.waktu?.toDate?o.waktu.toDate():o.waktu?new Date(o.waktu):null;if(!d)return!1;const b=d.toISOString().split("T")[0];if(n&&b<n||a&&b>a)return!1}return!0});const r={Hadir:0,Izin:0,Sakit:0,Alfa:0,Terlambat:0};s.forEach(o=>{const d=(o.status||"hadir").toLowerCase();d.includes("izin")?r.Izin++:d.includes("sakit")?r.Sakit++:d.includes("alfa")?r.Alfa++:r.Hadir++,(o.keterangan||"").toLowerCase().includes("terlambat")&&r.Terlambat++});const u=["Hadir","Izin","Sakit","Alfa","Terlambat"],g=u.map(o=>r[o]);X&&X.destroy(),X=new Chart(St,{type:"bar",data:{labels:u,datasets:[{label:"Jumlah",data:g,backgroundColor:["#6EC1E4","#F7B801","#F35B04","#D7263D","#2E86AB"],borderRadius:10,hoverBackgroundColor:["#5AB0D2","#E5A700","#D94E00","#C11D34","#1F6E8A"]}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{boxWidth:12,font:{size:12}}},tooltip:{backgroundColor:"rgba(0,0,0,0.7)",padding:10,bodyFont:{size:13},titleFont:{size:13}}},scales:{y:{beginAtZero:!0,grid:{color:"#e2e8f0"},ticks:{font:{size:12}}},x:{grid:{display:!1},ticks:{font:{size:12}}}}}}),Dt.textContent=`Total catatan absensi (filter saat ini): ${s.length}`}function k(){const t=w.value,e=p.value,n=B.value,a=A.value;let s=T.filter(o=>{if(t&&o.kelas!==t||e&&o.nama!==e)return!1;if(n||a){const d=o.tanggal?.toDate?o.tanggal.toDate():o.tanggal?new Date(o.tanggal):null;if(!d)return!1;const b=d.toISOString().split("T")[0];if(n&&b<n||a&&b>a)return!1}return!0});const r={};s.forEach(o=>{const d=o.jenis||o.jenis_pelanggaran||"Lainnya";r[d]=(r[d]||0)+1});const u=Object.keys(r),g=Object.values(r);G&&G.destroy(),G=new Chart(Lt,{type:"doughnut",data:{labels:u,datasets:[{label:"Jumlah Pelanggaran",data:g,backgroundColor:["#FF6B6B","#FFA36C","#FFD93D","#6BCB77","#4D96FF","#9D4EDD"],hoverOffset:8,borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,cutout:"55%",plugins:{legend:{position:"bottom",labels:{boxWidth:12,font:{size:12}}},tooltip:{backgroundColor:"rgba(0,0,0,0.7)",padding:10,bodyFont:{size:13},titleFont:{size:13}}},animation:{animateRotate:!0,animateScale:!0}}}),Et.textContent=`Total pelanggaran (filter saat ini): ${s.length}`}function _(){const t=new Date,e=[],n=[];for(let a=6;a>=0;a--){const s=new Date(t);s.setDate(t.getDate()-a);const r=s.toISOString().split("T")[0];e.push(r);const u=L.filter(g=>{const o=st(g.waktu);return o&&o===e[a]}).length;n.push(u)}J&&J.destroy(),J=new Chart(document.getElementById("chartTrenAbsensi"),{type:"line",data:{labels:e,datasets:[{label:"Absensi / Hari",data:n,tension:.4,fill:!1,borderWidth:3,borderColor:"#4D96FF",pointRadius:4,pointBackgroundColor:"#4D96FF"}]},options:{scales:{y:{beginAtZero:!0}}}})}function R(){const t=new Date,e=[],n=[];for(let a=6;a>=0;a--){const s=new Date(t);s.setDate(t.getDate()-a);const r=s.toISOString().split("T")[0];e.push(r);const u=T.filter(g=>{const o=st(g.tanggal)||st(g.createdAt);return o&&o===e[a]}).length;n.push(u)}U&&U.destroy(),U=new Chart(document.getElementById("chartTrenPelanggaran"),{type:"line",data:{labels:e,datasets:[{label:"Pelanggaran / Hari",data:n,tension:.4,fill:!0,borderColor:"#FF6B6B",backgroundColor:"rgba(255, 107, 107, 0.25)",borderWidth:3,pointRadius:4,pointBackgroundColor:"#FF6B6B"}]},options:{scales:{y:{beginAtZero:!0}}}})}let Q=null,Y=null;function dt(t){vt.textContent=`Detail: ${t}`;const e=L.filter(l=>l.nama===t),n=T.filter(l=>(l.namaSiswa||l.nama)===t),a=O.filter(l=>l.nama===t);let s=`<div class="bg-white rounded border border-gray-200 p-4 mb-4">
    <h6 class="font-bold border-b pb-2 mb-2 text-blue-700">Riwayat Kehadiran (${e.length})</h6>
    <ul class="text-sm space-y-1 max-h-40 overflow-y-auto">`;e.length===0&&(s+='<li class="text-gray-400 italic">Tidak ada data kehadiran</li>'),e.slice(0,100).forEach(l=>{const m=l.waktu?.toDate?l.waktu.toDate().toLocaleString("id-ID"):l.waktu?new Date(l.waktu).toLocaleString():"-",D=l.status||"Hadir";let E="text-green-600";D.includes("Izin")&&(E="text-yellow-600"),D.includes("Sakit")&&(E="text-orange-600"),D.includes("Alfa")&&(E="text-red-600"),s+=`<li class="flex justify-between border-b border-gray-100 last:border-0 pb-1">
      <span>${m}</span>
      <span class="font-medium ${E}">${D} ${l.keterangan?" ("+l.keterangan+")":""}</span>
    </li>`}),s+="</ul></div>",s+=`<div class="bg-white rounded border border-gray-200 p-4 mb-4">
    <h6 class="font-bold border-b pb-2 mb-2 text-red-700">Riwayat Pelanggaran (${n.length})</h6>
    <ul class="text-sm space-y-1 max-h-40 overflow-y-auto">`,n.length===0&&(s+='<li class="text-gray-400 italic">Tidak ada pelanggaran</li>'),n.slice(0,100).forEach(l=>{const m=l.tanggal?.toDate?l.tanggal.toDate().toLocaleString("id-ID"):l.tanggal?new Date(l.tanggal).toLocaleString():"-";s+=`<li class="flex justify-between border-b border-gray-100 last:border-0 pb-1">
      <span>${m}</span>
      <span class="font-medium text-red-600">${l.jenis||l.jenis_pelanggaran||"-"} <small class="text-gray-500">(${l.poin||0} pts)</small></span>
    </li>`}),s+="</ul></div>",s+=`<div class="bg-white rounded border border-gray-200 p-4">
    <h6 class="font-bold border-b pb-2 mb-2 text-purple-700">Catatan Guru (${a.length})</h6>
    <ul class="text-sm space-y-1 max-h-40 overflow-y-auto">`,a.length===0&&(s+='<li class="text-gray-400 italic">Tidak ada catatan</li>'),a.slice(0,100).forEach(l=>{s+=`<li><span class="font-bold">${l.guru||"Guru"}</span>: ${l.catatan||"-"} <small class="text-muted block">${l.tanggal||""}</small></li>`}),s+="</ul></div>",Ct.innerHTML=s,document.getElementById("modalDetail").classList.remove("hidden");let r=0,u=0,g=0,o=0;e.forEach(l=>{const m=(l.status||"").toLowerCase();m.includes("izin")?u++:m.includes("sakit")?g++:m.includes("alfa")?o++:r++,(l.keterangan||"").toLowerCase().includes("terlambat")});const d=document.getElementById("chartDetailAbsensi");Q&&Q.destroy(),e.length>0?Q=new Chart(d,{type:"doughnut",data:{labels:["Hadir","Izin","Sakit","Alfa"],datasets:[{data:[r,u,g,o],backgroundColor:["#6EC1E4","#F7B801","#F35B04","#D7263D"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{boxWidth:10,font:{size:10}}}}}}):d.closest(".h-48").innerHTML='<p class="text-center text-gray-400 text-xs mt-10">Belum ada data</p>';const b={};n.forEach(l=>{const m=l.jenis||l.jenis_pelanggaran||"Lainnya";b[m]=(b[m]||0)+1});const c=Object.keys(b),i=Object.values(b),f=document.getElementById("chartDetailPelanggaran");if(Y&&Y.destroy(),n.length>0)Y=new Chart(f,{type:"pie",data:{labels:c,datasets:[{data:i,backgroundColor:["#FF6B6B","#4D96FF","#FFD93D","#6BCB77","#9D4EDD"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{boxWidth:10,font:{size:10}}}}}});else{const l=f.parentElement;l.innerHTML='<p class="text-center text-gray-400 text-xs mt-10">Tidak ada pelanggaran</p>'}}function At(){document.getElementById("chartDetailAbsensi").parentElement.innerHTML='<canvas id="chartDetailAbsensi"></canvas>',document.getElementById("chartDetailPelanggaran").parentElement.innerHTML='<canvas id="chartDetailPelanggaran"></canvas>'}const It=dt;dt=function(t){At(),It(t)};function ct(){const t=[];return document.querySelectorAll("#bodyAbsensi tr").forEach(a=>{const s=Array.from(a.children).map(r=>r.textContent.trim());s.length===6&&t.push(["Absensi",...s])}),document.querySelectorAll("#bodyPelanggaran tr").forEach(a=>{const s=Array.from(a.children).map(r=>r.textContent.trim());s.length===7&&t.push(["Pelanggaran",...s])}),t}function $t(){const t=ct();if(!t.length)return alert("Tidak ada data untuk di-export.");const e=["Tipe","No","Nama","Kelas","Col4","Col5","Col6","Col7"],n=XLSX.utils.aoa_to_sheet([e,...t]),a=XLSX.utils.book_new();XLSX.utils.book_append_sheet(a,n,"Rekap"),XLSX.writeFile(a,`Rekap_Wali_${new Date().toISOString().slice(0,10)}.xlsx`)}function Pt(){const{jsPDF:t}=window.jspdf,e=new t("landscape");e.setFontSize(12),e.text("Rekap Wali Kelas",14,16);const n=ct();if(!n.length)return alert("Tidak ada data untuk di-export.");let a=25;e.setFontSize(9),n.forEach(s=>{e.text(s.join(" | "),14,a),a+=6,a>180&&(e.addPage(),a=20)}),e.save(`Rekap_Wali_${new Date().toISOString().slice(0,10)}.pdf`)}kt.addEventListener("click",()=>{let t='<h3>Rekap Wali Kelas</h3><table border="1" style="width:100%; border-collapse: collapse;"><thead><tr><th>Tipe</th><th>No</th><th>Nama</th><th>Kelas</th><th>Col4</th><th>Col5</th><th>Col6</th></tr></thead><tbody>';ct().forEach(n=>{const a=n.map(s=>`<td style="padding:6px">${s}</td>`).join("");t+=`<tr>${a}</tr>`}),t+="</tbody></table>",Tt.innerHTML=t,window.print()});let tt=null,et=null,at=null;async function Ft(t=""){try{const e=M(H(F,"siswa"));z=(await ht(e)).docs.map(a=>({id:a.id,...a.data()})),j=Array.from(new Set(z.map(a=>a.kelas).filter(Boolean))),t&&!j.includes(t)&&j.unshift(t),Bt(),rt(t||"")}catch(e){console.error("loadMasterSiswa:",e)}}function lt(t){if(tt&&tt(),et&&et(),at&&at(),t){const e=M(H(F,"absensi"),K("kelas","==",t));tt=q(e,n=>{L=n.docs.map(a=>({id:a.id,...a.data()})),h(),y(),x(),_()},n=>console.error("absensi onSnapshot:",n))}else L=[],h(),y(),x(),_();if(t){const e=M(H(F,"pelanggaran"),K("kelas","==",t));et=q(e,n=>{T=n.docs.map(a=>({id:a.id,...a.data()})),h(),y(),k(),R()},n=>console.error("pelanggaran onSnapshot:",n))}else T=[],h(),y(),k(),R();if(t){const e=M(H(F,"catatan_kelas"),K("kelas","==",t));at=q(e,n=>{O=n.docs.map(a=>({id:a.id,...a.data()})),ot==="catatan"&&it()},n=>console.error("catatan onSnapshot:",n))}else O=[]}pt(nt,async t=>{bt("onAuthStateChanged =>",t?"firebase user present":"no firebase user");let e={};try{e=JSON.parse(localStorage.getItem("userData")||"{}")}catch{e={}}if(!t&&(!e||Object.keys(e).length===0)){V("Belum login. Mengarahkan ke halaman login...","warning"),setTimeout(()=>window.location.href="index.html",800);return}if(e.role||e.kelasWali&&(e.role="wali_kelas"),!["wali_kelas","guru"].includes((e.role||"").toLowerCase())){V("Akses ditolak. Hanya wali kelas/guru.","danger"),setTimeout(()=>{localStorage.removeItem("userData"),window.location.href="index.html"},1200);return}e.nama||t?.displayName||t?.email;const n=e.kelasWali||e.kelas||"";V(`Menampilkan data untuk kelas: ${n||"Pilih kelas"}`,"success"),ft({title:"Dashboard Wali Kelas",userEmail:t.email,onLogout:async()=>{await gt(nt),localStorage.removeItem("userData"),window.location.href="index.html"}}),mt([{id:"menuAbsensi",label:"Absensi",icon:'<i class="bi bi-calendar-check text-xl"></i>',onClick:()=>Z("absensi")},{id:"menuPelanggaran",label:"Pelanggaran",icon:'<i class="bi bi-exclamation-triangle text-xl"></i>',onClick:()=>Z("pelanggaran")},{id:"menuCatatan",label:"Catatan Kelas",icon:'<i class="bi bi-journal-text text-xl"></i>',onClick:()=>Z("catatan")}]),await Ft(n),n?(w.value=n,rt(n),lt(n)):lt("")});w.addEventListener("change",()=>{const t=w.value;rt(t),lt(t),h(),y(),x(),k(),_(),R()});p.addEventListener("change",()=>{h(),y(),x(),k()});B.addEventListener("change",()=>{h(),y(),x(),k()});A.addEventListener("change",()=>{h(),y(),x(),k()});W.addEventListener("input",()=>{h(),y(),x(),k(),ot==="catatan"&&it()});yt.addEventListener("click",()=>{h(),y(),x(),k()});wt.addEventListener("click",$t);xt.addEventListener("click",Pt);bt("dashboard_wali_kelas.js loaded");
